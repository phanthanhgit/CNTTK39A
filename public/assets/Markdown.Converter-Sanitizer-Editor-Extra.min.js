"use strict";var Markdown;if(typeof exports==="object"&&typeof require==="function")Markdown=exports;else Markdown={};(function(){function G(e){return e}function t(e){return false}function Z(){}Z.prototype={chain:function(e,n){var r=this[e];if(!r)throw new Error("unknown hook "+e);if(r===G)this[e]=n;else this[e]=function(e){var t=Array.prototype.slice.call(arguments,0);t[0]=r.apply(null,t);return n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(e){this[e]=G},addFalse:function(e){this[e]=t}};Markdown.HookCollection=Z;function U(){}U.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}};Markdown.Converter=function(e){var r=this.hooks=new Z;r.addNoop("plainLinkText");r.addNoop("preConversion");r.addNoop("postNormalization");r.addNoop("preBlockGamut");r.addNoop("postBlockGamut");r.addNoop("preSpanGamut");r.addNoop("postSpanGamut");r.addNoop("postConversion");var g;var h;var c;var a;e=e||{};var n=G,l=G;if(e.nonAsciiLetters){(function(){var t=/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g;var i="Q".charCodeAt(0);var u="A".charCodeAt(0);var o="Z".charCodeAt(0);var s="a".charCodeAt(0)-o-1;n=function(e){return e.replace(t,function(e){var t=e.charCodeAt(0);var n="";var r;while(t>0){r=t%51+u;if(r>=i)r++;if(r>o)r+=s;n=String.fromCharCode(r)+n;t=t/51|0}return"Q"+n+"Q"})};l=function(e){return e.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(e,t){var n=0;var r;for(var a=0;a<t.length;a++){r=t.charCodeAt(a);if(r>o)r-=s;if(r>i)r--;r-=u;n=n*51+r}return String.fromCharCode(n)})}})()}var t=e.asteriskIntraWordEmphasis?_:B;this.makeHtml=function(e){if(g)throw new Error("Recursive call to converter.makeHtml");g=new U;h=new U;c=[];a=0;e=r.preConversion(e);e=e.replace(/~/g,"~T");e=e.replace(/\$/g,"~D");e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");e="\n\n"+e+"\n\n";e=K(e);e=e.replace(/^[ \t]+$/gm,"");e=r.postNormalization(e);e=u(e);e=i(e);e=d(e);e=O(e);e=e.replace(/~D/g,"$$");e=e.replace(/~T/g,"~");e=r.postConversion(e);c=h=g=null;return e};function i(e){e=e.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,r,a,i){t=t.toLowerCase();g.set(t,A(n));if(a){return r}else if(i){h.set(t,i.replace(/"/g,"&quot;"))}return""});return e}function u(e){var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del";var n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,s);e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,s);e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s);e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,s);e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s);return e}function o(e){e=e.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(c.push(e)-1)+"K\n\n"}function s(e,t){return o(t)}var f=function(e){return d(e)};function d(e,t){e=r.preBlockGamut(e,f);e=y(e);var n="<hr />\n";e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,n);e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,n);e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,n);e=C(e);e=$(e);e=H(e);e=r.postBlockGamut(e,f);e=u(e);e=R(e,t);return e}function p(e){e=r.preSpanGamut(e);e=S(e);e=v(e);e=I(e);e=w(e);e=m(e);e=N(e);e=e.replace(/~P/g,"://");e=A(e);e=t(e);e=e.replace(/  +\n/g," <br>\n");e=r.postSpanGamut(e);return e}function v(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");t=F(t,e.charAt(1)=="!"?"\\`*_/":"\\`*_");return t});return e}function m(e){if(e.indexOf("[")===-1)return e;e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b);e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b);e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,b);return e}function b(e,t,n,r,a,i,u,o){if(o==undefined)o="";var s=t;var c=n.replace(/:\/\//g,"~P");var l=r.toLowerCase();var f=a;var d=o;if(f==""){if(l==""){l=c.toLowerCase().replace(/ ?\n/g," ")}f="#"+l;if(g.get(l)!=undefined){f=g.get(l);if(h.get(l)!=undefined){d=h.get(l)}}else{if(s.search(/\(\s*\)$/m)>-1){f=""}else{return s}}}f=z(f);var p='<a href="'+f+'"';if(d!=""){d=k(d);d=F(d,"*_");p+=' title="'+d+'"'}p+=">"+c+"</a>";return p}function w(e){if(e.indexOf("![")===-1)return e;e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,x);e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,x);return e}function k(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function x(e,t,n,r,a,i,u,o){var s=t;var c=n;var l=r.toLowerCase();var f=a;var d=o;if(!d)d="";if(f==""){if(l==""){l=c.toLowerCase().replace(/ ?\n/g," ")}f="#"+l;if(g.get(l)!=undefined){f=g.get(l);if(h.get(l)!=undefined){d=h.get(l)}}else{return s}}c=F(k(c),"*_[]()");f=F(f,"*_");var p='<img src="'+f+'" alt="'+c+'"';d=k(d);d=F(d,"*_");p+=' title="'+d+'"';p+=" />";return p}function y(e){e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+p(t)+"</h1>\n\n"});e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+p(t)+"</h2>\n\n"});e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+p(n)+"</h"+r+">\n\n"});return e}function C(e,s){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(a){e=e.replace(t,function(e,t,n){var r=t;var a=n.search(/[*+-]/g)>-1?"ul":"ol";var i;if(a==="ol")i=parseInt(n,10);var u=T(r,a,s);u=u.replace(/\s+$/,"");var o="<"+a;if(i&&i!==1)o+=' start="'+i+'"';u=o+">"+u+"</"+a+">\n";return u})}else{t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;e=e.replace(t,function(e,t,n,r){var a=t;var i=n;var u=r.search(/[*+-]/g)>-1?"ul":"ol";var o;if(u==="ol")o=parseInt(r,10);var s=T(i,u);var c="<"+u;if(o&&o!==1)c+=' start="'+o+'"';s=a+c+">\n"+s+"</"+u+">\n";return s})}e=e.replace(/~0/,"");return e}var E={ol:"\\d+[.]",ul:"[*+-]"};function T(e,t,s){a++;e=e.replace(/\n{2,}$/,"\n");e+="~0";var n=E[t];var r=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm");var c=false;e=e.replace(r,function(e,t,n,r){var a=r;var i=t;var u=/\n\n$/.test(a);var o=u||a.search(/\n{2,}/)>-1;if(o||c){a=d(X(a),true)}else{a=C(X(a),true);a=a.replace(/\n$/,"");if(!s)a=p(a)}c=u;return"<li>"+a+"</li>\n"});e=e.replace(/~0/g,"");a--;return e}function $(e){e+="~0";e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t;var a=n;r=L(X(r));r=K(r);r=r.replace(/^\n+/g,"");r=r.replace(/\n+$/g,"");r="<pre><code>"+r+"\n</code></pre>";return"\n\n"+r+"\n\n"+a});e=e.replace(/~0/,"");return e}function S(e){e=e.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,a){var i=r;i=i.replace(/^([ \t]*)/g,"");i=i.replace(/[ \t]*$/g,"");i=L(i);i=i.replace(/:\/\//g,"~P");return t+"<code>"+i+"</code>"});return e}function L(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=F(e,"*_{}[]\\",false);return e}function B(e){if(e.indexOf("*")===-1&&e.indexOf("_")===-1)return e;e=n(e);e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>");e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>");return l(e)}function _(e){if(e.indexOf("*")===-1&&e.indexOf("_")===-1)return e;e=n(e);e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|\S\*\*(?:[\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>");e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=\w)\D\*\D|[^\s*]\*(?:[\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>");return l(e)}function H(e){e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;n=n.replace(/^[ \t]*>[ \t]?/gm,"~0");n=n.replace(/~0/g,"");n=n.replace(/^[ \t]+$/gm,"");n=d(n);n=n.replace(/(^|\n)/g,"$1  ");n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;n=n.replace(/^  /gm,"~0");n=n.replace(/~0/g,"");return n});return o("<blockquote>\n"+n+"\n</blockquote>")});return e}function R(e,t){e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");var n=e.split(/\n{2,}/g);var r=[];var a=/~K(\d+)K/;var i=n.length;for(var u=0;u<i;u++){var o=n[u];if(a.test(o)){r.push(o)}else if(/\S/.test(o)){o=p(o);o=o.replace(/^([ \t]*)/g,"<p>");o+="</p>";r.push(o)}}if(!t){i=r.length;for(var u=0;u<i;u++){var s=true;while(s){s=false;r[u]=r[u].replace(/~K(\d+)K/g,function(e,t){s=true;return c[t]})}}}return r.join("\n\n")}function A(e){e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;");return e}function I(e){e=e.replace(/\\(\\)/g,j);e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,j);return e}var M="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",P="[-A-Z0-9+&@#/%=~_|[\\])]",W=new RegExp('(="|<)?\\b(https?|ftp)(://'+M+"*"+P+")(?=$|\\W)","gi"),q=new RegExp(P,"i");function D(e,t,n,r){if(t)return e;if(r.charAt(r.length-1)!==")")return"<"+n+r+">";var a=r.match(/[()]/g);var i=0;for(var u=0;u<a.length;u++){if(a[u]==="("){if(i<=0)i=1;else i++}else{i--}}var o="";if(i<0){var s=new RegExp("\\){1,"+-i+"}$");r=r.replace(s,function(e){o=e;return""})}if(o){var c=r.charAt(r.length-1);if(!q.test(c)){o=c+o;r=r.substr(0,r.length-1)}}return"<"+n+r+">"+o}function N(e){e=e.replace(W,D);var t=function(e,t){var n=z(t);return'<a href="'+n+'">'+r.plainLinkText(t)+"</a>"};e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t);return e}function O(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e}function X(e){e=e.replace(/^(\t|[ ]{1,4})/gm,"~0");e=e.replace(/~0/g,"");return e}function K(e){if(!/\t/.test(e))return e;var n=["    ","   ","  "," "],r=0,a;return e.replace(/[\n\t]/g,function(e,t){if(e==="\n"){r=t+1;return e}a=(t-r)%4;r=t+1;return n[a]})}function z(e){e=k(e);e=F(e,"*_:()[]");return e}function F(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";if(n){r="\\\\"+r}var a=new RegExp(r,"g");e=e.replace(a,j);return e}function j(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}}})();(function(){var e,t;if(typeof exports==="object"&&typeof require==="function"){e=exports;t=require("./Markdown.Converter").Converter}else{e=window.Markdown;t=e.Converter}e.getSanitizingConverter=function(){var e=new t;e.hooks.chain("postConversion",n);e.hooks.chain("postConversion",o);return e};function n(e){return e.replace(/<[^>]*>?/gi,u)}var r=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i;var a=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i;var i=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i;function u(e){if(e.match(r)||e.match(a)||e.match(i))return e;else return""}function o(e){if(e=="")return"";var t=/<\/?\w+[^>]*(\s|$|>)/g;var n=e.toLowerCase().match(t);var r=(n||[]).length;if(r==0)return e;var a,i;var u="<p><img><br><li><hr>";var o;var s=[];var c=[];var l=false;for(var f=0;f<r;f++){a=n[f].replace(/<\/?(\w+).*/,"$1");if(s[f]||u.search("<"+a+">")>-1)continue;i=n[f];o=-1;if(!/^<\//.test(i)){for(var d=f+1;d<r;d++){if(!s[d]&&n[d]=="</"+a+">"){o=d;break}}}if(o==-1)l=c[f]=true;else s[o]=true}if(!l)return e;var f=0;e=e.replace(t,function(e){var t=c[f]?"":e;f++;return t});return e}})();(function(){var y={},C={},t={},E=window.document,g=window.RegExp,w=window.navigator,h={lineLength:72},T={isIE:/msie/.test(w.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(w.userAgent.toLowerCase())||/msie 5/.test(w.userAgent.toLowerCase()),isOpera:/opera/.test(w.userAgent.toLowerCase())};var n={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"};var s="http://";var c="http://";Markdown.Editor=function(i,u,o){o=o||{};if(typeof o.handler==="function"){o={helpButton:o}}o.strings=o.strings||{};if(o.helpButton){o.strings.help=o.strings.help||o.helpButton.title}var s=function(e){return o.strings[e]||n[e]};u=u||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh");c.addNoop("postBlockquoteCreation");c.addFalse("insertImageDialog");this.getConverter=function(){return i};var l=this,f;this.run=function(){if(f)return;f=new d(u);var e=new b(c,s);var t=new v(i,f,function(){c.onPreviewRefresh()});var n,r;if(!/\?noundo/.test(E.location.href)){n=new p(function(){t.refresh();if(r)r.setUndoRedoButtonStates()},f);this.textOperation=function(e){n.setCommandMode();e();l.refreshPreview()}}r=new m(u,f,n,t,e,o.helpButton,s);r.setUndoRedoButtonStates();var a=l.refreshPreview=function(){t.refresh(true)};a()}};function r(){}r.prototype.findTags=function(e,t){var n=this;var r;if(e){r=y.extendRegExp(e,"","$");this.before=this.before.replace(r,function(e){n.startTag=n.startTag+e;return""});r=y.extendRegExp(e,"^","");this.selection=this.selection.replace(r,function(e){n.startTag=n.startTag+e;return""})}if(t){r=y.extendRegExp(t,"","$");this.selection=this.selection.replace(r,function(e){n.endTag=e+n.endTag;return""});r=y.extendRegExp(t,"^","");this.after=this.after.replace(r,function(e){n.endTag=e+n.endTag;return""})}};r.prototype.trimWhitespace=function(e){var t,n,r=this;if(e){t=n=""}else{t=function(e){r.before+=e;return""};n=function(e){r.after=e+r.after;return""}}this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)};r.prototype.skipLines=function(e,t,n){if(e===undefined){e=1}if(t===undefined){t=1}e++;t++;var r;var a;if(navigator.userAgent.match(/Chrome/)){"X".match(/()./)}this.selection=this.selection.replace(/(^\n*)/,"");this.startTag=this.startTag+g.$1;this.selection=this.selection.replace(/(\n*$)/,"");this.endTag=this.endTag+g.$1;this.startTag=this.startTag.replace(/(^\n*)/,"");this.before=this.before+g.$1;this.endTag=this.endTag.replace(/(\n*$)/,"");this.after=this.after+g.$1;if(this.before){r=a="";while(e--){r+="\\n?";a+="\n"}if(n){r="\\n*"}this.before=this.before.replace(new g(r+"$",""),a)}if(this.after){r=a="";while(t--){r+="\\n?";a+="\n"}if(n){r="\\n*"}this.after=this.after.replace(new g(r,""),a)}};function d(e){this.buttonBar=E.getElementById("wmd-button-bar"+e);this.preview=E.getElementById("wmd-preview"+e);this.input=E.getElementById("wmd-input"+e)}y.isVisible=function(e){if(window.getComputedStyle){return window.getComputedStyle(e,null).getPropertyValue("display")!=="none"}else if(e.currentStyle){return e.currentStyle["display"]!=="none"}};y.addEvent=function(e,t,n){if(e.attachEvent){e.attachEvent("on"+t,n)}else{e.addEventListener(t,n,false)}};y.removeEvent=function(e,t,n){if(e.detachEvent){e.detachEvent("on"+t,n)}else{e.removeEventListener(t,n,false)}};y.fixEolChars=function(e){e=e.replace(/\r\n/g,"\n");e=e.replace(/\r/g,"\n");return e};y.extendRegExp=function(e,t,n){if(t===null||t===undefined){t=""}if(n===null||n===undefined){n=""}var r=e.toString();var a;r=r.replace(/\/([gim]*)$/,function(e,t){a=t;return""});r=r.replace(/(^\/|\/$)/g,"");r=t+r+n;return new g(r,a)};C.getTop=function(e,t){var n=e.offsetTop;if(!t){while(e=e.offsetParent){n+=e.offsetTop}}return n};C.getHeight=function(e){return e.offsetHeight||e.scrollHeight};C.getWidth=function(e){return e.offsetWidth||e.scrollWidth};C.getPageSize=function(){var e,t;var n,r;if(self.innerHeight&&self.scrollMaxY){e=E.body.scrollWidth;t=self.innerHeight+self.scrollMaxY}else if(E.body.scrollHeight>E.body.offsetHeight){e=E.body.scrollWidth;t=E.body.scrollHeight}else{e=E.body.offsetWidth;t=E.body.offsetHeight}if(self.innerHeight){n=self.innerWidth;r=self.innerHeight}else if(E.documentElement&&E.documentElement.clientHeight){n=E.documentElement.clientWidth;r=E.documentElement.clientHeight}else if(E.body){n=E.body.clientWidth;r=E.body.clientHeight}var a=Math.max(e,n);var i=Math.max(t,r);return[a,i,n,r]};function p(t,n){var a=this;var r=[];var i=0;var u="none";var o;var s;var c;var l=function(e,t){if(u!=e){u=e;if(!t){d()}}if(!T.isIE||u!="moving"){s=setTimeout(f,1)}else{c=null}};var f=function(e){c=new k(n,e);s=undefined};this.setCommandMode=function(){u="command";d();s=setTimeout(f,0)};this.canUndo=function(){return i>1};this.canRedo=function(){if(r[i+1]){return true}return false};this.undo=function(){if(a.canUndo()){if(o){o.restore();o=null}else{r[i]=new k(n);r[--i].restore();if(t){t()}}}u="none";n.input.focus();f()};this.redo=function(){if(a.canRedo()){r[++i].restore();if(t){t()}}u="none";n.input.focus();f()};var d=function(){var e=c||new k(n);if(!e){return false}if(u=="moving"){if(!o){o=e}return}if(o){if(r[i-1].text!=o.text){r[i++]=o}o=null}r[i++]=e;r[i+1]=null;if(t){t()}};var p=function(e){var t=false;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode;var r=String.fromCharCode(n);switch(r.toLowerCase()){case"y":a.redo();t=true;break;case"z":if(!e.shiftKey){a.undo()}else{a.redo()}t=true;break}}if(t){if(e.preventDefault){e.preventDefault()}if(window.event){window.event.returnValue=false}return}};var g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;if(t>=33&&t<=40||t>=63232&&t<=63235){l("moving")}else if(t==8||t==46||t==127){l("deleting")}else if(t==13){l("newlines")}else if(t==27){l("escape")}else if((t<16||t>20)&&t!=91){l("typing")}}};var e=function(){y.addEvent(n.input,"keypress",function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&(e.keyCode==89||e.keyCode==90)){e.preventDefault()}});var e=function(){if(T.isIE||c&&c.text!=n.input.value){if(s==undefined){u="paste";d();f()}}};y.addEvent(n.input,"keydown",p);y.addEvent(n.input,"keydown",g);y.addEvent(n.input,"mousedown",function(){l("moving")});n.input.onpaste=e;n.input.ondrop=e};var h=function(){e();f(true);d()};h()}function k(u,e){var o=this;var s=u.input;this.init=function(){if(!y.isVisible(s)){return}if(!e&&E.activeElement&&E.activeElement!==s){return}this.setInputAreaSelectionStartEnd();this.scrollTop=s.scrollTop;if(!this.text&&s.selectionStart||s.selectionStart===0){this.text=s.value}};this.setInputAreaSelection=function(){if(!y.isVisible(s)){return}if(s.selectionStart!==undefined&&!T.isOpera){s.focus();s.selectionStart=o.start;s.selectionEnd=o.end;s.scrollTop=o.scrollTop}else if(E.selection){if(E.activeElement&&E.activeElement!==s){return}s.focus();var e=s.createTextRange();e.moveStart("character",-s.value.length);e.moveEnd("character",-s.value.length);e.moveEnd("character",o.end);e.moveStart("character",o.start);e.select()}};this.setInputAreaSelectionStartEnd=function(){if(!u.ieCachedRange&&(s.selectionStart||s.selectionStart===0)){o.start=s.selectionStart;o.end=s.selectionEnd}else if(E.selection){o.text=y.fixEolChars(s.value);var e=u.ieCachedRange||E.selection.createRange();var t=y.fixEolChars(e.text);var n="";var r=n+t+n;e.text=r;var a=y.fixEolChars(s.value);e.moveStart("character",-r.length);e.text=t;o.start=a.indexOf(n);o.end=a.lastIndexOf(n)-n.length;var i=o.text.length-y.fixEolChars(s.value).length;if(i){e.moveStart("character",-t.length);while(i--){t+="\n";o.end+=1}e.text=t}if(u.ieCachedRange)o.scrollTop=u.ieCachedScrollTop;u.ieCachedRange=null;this.setInputAreaSelection()}};this.restore=function(){if(o.text!=undefined&&o.text!=s.value){s.value=o.text}this.setInputAreaSelection();s.scrollTop=o.scrollTop};this.getChunks=function(){var e=new r;e.before=y.fixEolChars(o.text.substring(0,o.start));e.startTag="";e.selection=y.fixEolChars(o.text.substring(o.start,o.end));e.endTag="";e.after=y.fixEolChars(o.text.substring(o.end));e.scrollTop=o.scrollTop;return e};this.setChunks=function(e){e.before=e.before+e.startTag;e.after=e.endTag+e.after;this.start=e.before.length;this.end=e.before.length+e.selection.length;this.text=e.before+e.selection+e.after;this.scrollTop=e.scrollTop};this.init()}function v(r,a,i){var e=this;var t;var u;var o;var n=3e3;var s="delayed";var c=function(e,t){y.addEvent(e,"input",t);e.onpaste=t;e.ondrop=t;y.addEvent(e,"keypress",t);y.addEvent(e,"keydown",t)};var l=function(){var e=0;if(window.innerHeight){e=window.pageYOffset}else if(E.documentElement&&E.documentElement.scrollTop){e=E.documentElement.scrollTop}else if(E.body){e=E.body.scrollTop}return e};var f=function(){if(!a.preview)return;var e=a.input.value;if(e&&e==o){return}else{o=e}var t=(new Date).getTime();e=r.makeHtml(e);var n=(new Date).getTime();u=n-t;k(e)};var d=function(){if(t){clearTimeout(t);t=undefined}if(s!=="manual"){var e=0;if(s==="delayed"){e=u}if(e>n){e=n}t=setTimeout(f,e)}};var p=function(e){if(e.scrollHeight<=e.clientHeight){return 1}return e.scrollTop/(e.scrollHeight-e.clientHeight)};var g=function(){if(a.preview){a.preview.scrollTop=(a.preview.scrollHeight-a.preview.clientHeight)*p(a.preview)}};this.refresh=function(e){if(e){o="";f()}else{d()}};this.processingTime=function(){return u};var h=true;var v=function(e){var t=a.preview;var n=t.parentNode;var r=t.nextSibling;n.removeChild(t);t.innerHTML=e;if(!r)n.appendChild(t);else n.insertBefore(t,r)};var m=function(e){a.preview.innerHTML=e};var b;var w=function(t){if(b)return b(t);try{m(t);b=m}catch(e){b=v;b(t)}};var k=function(e){var t=C.getTop(a.input)-l();if(a.preview){w(e);i()}g();if(h){h=false;return}var n=C.getTop(a.input)-l();if(T.isIE){setTimeout(function(){window.scrollBy(0,n-t)},0)}else{window.scrollBy(0,n-t)}};var x=function(){c(a.input,d);f();if(a.preview){a.preview.scrollTop=0}};x()}t.createBackground=function(){var e=E.createElement("div"),t=e.style;e.className="wmd-prompt-background";t.position="absolute";t.top="0";t.zIndex="1000";if(T.isIE){t.filter="alpha(opacity=50)"}else{t.opacity="0.5"}var n=C.getPageSize();t.height=n[1]+"px";if(T.isIE){t.left=E.documentElement.scrollLeft;t.width=E.documentElement.clientWidth}else{t.left="0";t.width="100%"}E.body.appendChild(e);return e};t.prompt=function(i,u,n){var o;var s;if(u===undefined){u=""}var c=function(e){var t=e.charCode||e.keyCode;if(t===27){if(e.stopPropagation)e.stopPropagation();l(true);return false}};var l=function(e){y.removeEvent(E.body,"keyup",c);var t=s.value;if(e){t=null}else{t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://");if(!/^(?:https?|ftp):\/\//.test(t))t="http://"+t}o.parentNode.removeChild(o);n(t);return false};var r=function(){o=E.createElement("div");o.className="wmd-prompt-dialog";o.style.padding="10px;";o.style.position="fixed";o.style.width="400px";o.style.zIndex="1001";var e=E.createElement("div");e.innerHTML=i;e.style.padding="5px";o.appendChild(e);var t=E.createElement("form"),n=t.style;t.onsubmit=function(){return l(false)};n.padding="0";n.margin="0";n.cssFloat="left";n.width="100%";n.textAlign="center";n.position="relative";o.appendChild(t);s=E.createElement("input");s.type="text";s.value=u;n=s.style;n.display="block";n.width="80%";n.marginLeft=n.marginRight="auto";t.appendChild(s);var r=E.createElement("input");r.type="button";r.onclick=function(){return l(false)};r.value="OK";n=r.style;n.margin="10px";n.display="inline";n.width="7em";var a=E.createElement("input");a.type="button";a.onclick=function(){return l(true)};a.value="Cancel";n=a.style;n.margin="10px";n.display="inline";n.width="7em";t.appendChild(r);t.appendChild(a);y.addEvent(E.body,"keyup",c);o.style.top="50%";o.style.left="50%";o.style.display="block";if(T.isIE_5or6){o.style.position="absolute";o.style.top=E.documentElement.scrollTop+200+"px";o.style.left="50%"}E.body.appendChild(o);o.style.marginTop=-(C.getHeight(o)/2)+"px";o.style.marginLeft=-(C.getWidth(o)/2)+"px"};setTimeout(function(){r();var e=u.length;if(s.selectionStart!==undefined){s.selectionStart=0;s.selectionEnd=e}else if(s.createTextRange){var t=s.createTextRange();t.collapse(false);t.moveStart("character",-e);t.moveEnd("character",e);t.select()}s.focus()},0)};function m(f,d,i,u,t,p,g){var o=d.input,h={};n();var e="keydown";if(T.isOpera){e="keypress"}y.addEvent(o,e,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode;var n=String.fromCharCode(t).toLowerCase();switch(n){case"b":s(h.bold);break;case"i":s(h.italic);break;case"l":s(h.link);break;case"q":s(h.quote);break;case"k":s(h.code);break;case"g":s(h.image);break;case"o":s(h.olist);break;case"u":s(h.ulist);break;case"h":s(h.heading);break;case"r":s(h.hr);break;case"y":s(h.redo);break;case"z":if(e.shiftKey){s(h.redo)}else{s(h.undo)}break;default:return}if(e.preventDefault){e.preventDefault()}if(window.event){window.event.returnValue=false}}});y.addEvent(o,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(t===13){var n={};n.textOp=m("doAutoindent");s(n)}}});if(T.isIE){y.addEvent(o,"keydown",function(e){var t=e.keyCode;if(t===27){return false}})}function s(e){o.focus();if(e.textOp){if(i){i.setCommandMode()}var t=new k(d);if(!t){return}var n=t.getChunks();var r=function(){o.focus();if(n){t.setChunks(n)}t.restore();u.refresh()};var a=e.textOp(n,r);if(!a){r()}}if(e.execute){e.execute(i)}}function v(e,t){var n="0px";var r="-20px";var a="-40px";var i=e.getElementsByTagName("span")[0];if(t){i.style.backgroundPosition=e.XShift+" "+n;e.onmouseover=function(){i.style.backgroundPosition=this.XShift+" "+a};e.onmouseout=function(){i.style.backgroundPosition=this.XShift+" "+n};if(T.isIE){e.onmousedown=function(){if(E.activeElement&&E.activeElement!==d.input){return}d.ieCachedRange=document.selection.createRange();d.ieCachedScrollTop=d.input.scrollTop}}if(!e.isHelp){e.onclick=function(){if(this.onmouseout){this.onmouseout()}s(this);return false}}}else{i.style.backgroundPosition=e.XShift+" "+r;e.onmouseover=e.onmouseout=e.onclick=function(){}}}function m(e){if(typeof e==="string")e=t[e];return function(){e.apply(t,arguments)}}function n(){var e=d.buttonBar;var t="0px";var n="-20px";var r="-40px";var u=document.createElement("ul");u.id="wmd-button-row"+f;u.className="wmd-button-row";u=e.appendChild(u);var o=0;var a=function(e,t,n,r){var a=document.createElement("li");a.className="wmd-button";a.style.left=o+"px";o+=25;var i=document.createElement("span");a.id=e+f;a.appendChild(i);a.title=t;a.XShift=n;if(r)a.textOp=r;v(a,true);u.appendChild(a);return a};var i=function(e){var t=document.createElement("li");t.className="wmd-spacer wmd-spacer"+e;t.id="wmd-spacer"+e+f;u.appendChild(t);o+=25};h.bold=a("wmd-bold-button",g("bold"),"0px",m("doBold"));h.italic=a("wmd-italic-button",g("italic"),"-20px",m("doItalic"));i(1);h.link=a("wmd-link-button",g("link"),"-40px",m(function(e,t){return this.doLinkOrImage(e,t,false)}));h.quote=a("wmd-quote-button",g("quote"),"-60px",m("doBlockquote"));h.code=a("wmd-code-button",g("code"),"-80px",m("doCode"));h.image=a("wmd-image-button",g("image"),"-100px",m(function(e,t){return this.doLinkOrImage(e,t,true)}));i(2);h.olist=a("wmd-olist-button",g("olist"),"-120px",m(function(e,t){this.doList(e,t,true)}));h.ulist=a("wmd-ulist-button",g("ulist"),"-140px",m(function(e,t){this.doList(e,t,false)}));h.heading=a("wmd-heading-button",g("heading"),"-160px",m("doHeading"));h.hr=a("wmd-hr-button",g("hr"),"-180px",m("doHorizontalRule"));i(3);h.undo=a("wmd-undo-button",g("undo"),"-200px",null);h.undo.execute=function(e){if(e)e.undo()};var s=/win/.test(w.platform.toLowerCase())?g("redo"):g("redomac");h.redo=a("wmd-redo-button",s,"-220px",null);h.redo.execute=function(e){if(e)e.redo()};if(p){var c=document.createElement("li");var l=document.createElement("span");c.appendChild(l);c.className="wmd-button wmd-help-button";c.id="wmd-help-button"+f;c.XShift="-240px";c.isHelp=true;c.style.right="0px";c.title=g("help");c.onclick=p.handler;v(c,true);u.appendChild(c);h.help=c}b()}function b(){if(i){v(h.undo,i.canUndo());v(h.redo,i.canRedo())}}this.setUndoRedoButtonStates=b}function b(e,t){this.hooks=e;this.getString=t}var e=b.prototype;e.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";e.unwrap=function(e){var t=new g("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")};e.wrap=function(e,t){this.unwrap(e);var n=new g("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){if(new g("^"+r.prefixes,"").test(e)){return e}return t+"\n"});e.selection=e.selection.replace(/\s+$/,"")};e.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))};e.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))};e.doBorI=function(e,t,n,r){e.trimWhitespace();e.selection=e.selection.replace(/\n{2,}/g,"\n");var a=/(\**$)/.exec(e.before)[0];var i=/(^\**)/.exec(e.after)[0];var u=Math.min(a.length,i.length);if(u>=n&&(u!=2||n!=1)){e.before=e.before.replace(g("[*]{"+n+"}$",""),"");e.after=e.after.replace(g("^[*]{"+n+"}",""),"")}else if(!e.selection&&i){e.after=e.after.replace(/^([*_]*)/,"");e.before=e.before.replace(/(\s?)$/,"");var o=g.$1;e.before=e.before+i+o}else{if(!e.selection&&!i){e.selection=r}var s=n<=1?"*":"**";e.before=e.before+s;e.after=s+e.after}return};e.stripLinkDefs=function(e,i){e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,t,n,r,a){i[t]=e.replace(/\s*$/,"");if(r){i[t]=e.replace(/["(](.+?)[")]$/,"");return r+a}return""});return e};e.addLinkDef=function(e,t){var u=0;var o={};e.before=this.stripLinkDefs(e.before,o);e.selection=this.stripLinkDefs(e.selection,o);e.after=this.stripLinkDefs(e.after,o);var n="";var s=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g;var c=function(e){u++;e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+u+"]:");n+="\n"+e};var l=function(e,t,n,r,a,i){n=n.replace(s,l);if(o[a]){c(o[a]);return t+n+r+u+i}return e};e.before=e.before.replace(s,l);if(t){c(t)}else{e.selection=e.selection.replace(s,l)}var r=u;e.after=e.after.replace(s,l);if(e.after){e.after=e.after.replace(/\n*$/,"")}if(!e.after){e.selection=e.selection.replace(/\n*$/,"")}e.after+="\n\n"+n;return r};function l(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){var r=false;t=t.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-./[\]]/g,function(e){if(e.length===3&&e.charAt(0)=="%"){return e.toUpperCase()}switch(e){case"?":r=true;return"?";break;case"+":if(r)return"%20";break}return encodeURI(e)});if(n){n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,"");n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return n?t+' "'+n+'"':t})}e.doLinkOrImage=function(r,a,i){r.trimWhitespace();r.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var u;if(r.endTag.length>1&&r.startTag.length>0){r.startTag=r.startTag.replace(/!?\[/,"");r.endTag="";this.addLinkDef(r,null)}else{r.selection=r.startTag+r.selection+r.endTag;r.startTag=r.endTag="";if(/\n\n/.test(r.selection)){this.addLinkDef(r,null);return}var o=this;var e=function(e){u.parentNode.removeChild(u);if(e!==null){r.selection=(" "+r.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var t=" [999]: "+l(e);var n=o.addLinkDef(r,t);r.startTag=i?"![":"[";r.endTag="]["+n+"]";if(!r.selection){if(i){r.selection=o.getString("imagedescription")}else{r.selection=o.getString("linkdescription")}}}a()};u=t.createBackground();if(i){if(!this.hooks.insertImageDialog(e))t.prompt(this.getString("imagedialog"),s,e)}else{t.prompt(this.getString("linkdialog"),c,e)}return true}};e.doAutoindent=function(t,e){var n=this,r=false;t.before=t.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n");t.before=t.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");t.before=t.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");if(!t.selection&&!/^[ \t]*(?:\n|$)/.test(t.after)){t.after=t.after.replace(/^[^\n]*/,function(e){t.selection=e;return""});r=true}if(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(t.before)){if(n.doList){n.doList(t)}}if(/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(t.before)){if(n.doBlockquote){n.doBlockquote(t)}}if(/(\n|^)(\t|[ ]{4,}).*\n$/.test(t.before)){if(n.doCode){n.doCode(t)}}if(r){t.after=t.selection+t.after;t.selection=""}};e.doBlockquote=function(a,e){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(e,t,n,r){a.before+=t;a.after=r+a.after;return n});a.before=a.before.replace(/(>[ \t]*)$/,function(e,t){a.selection=t+a.selection;return""});a.selection=a.selection.replace(/^(\s|>)+$/,"");a.selection=a.selection||this.getString("quoteexample");var t="",n="",r;if(a.before){var i=a.before.replace(/\n$/,"").split("\n");var u=false;for(var o=0;o<i.length;o++){var s=false;r=i[o];u=u&&r.length>0;if(/^>/.test(r)){s=true;if(!u&&r.length>1)u=true}else if(/^[ \t]*$/.test(r)){s=true}else{s=u}if(s){t+=r+"\n"}else{n+=t+r;t="\n"}}if(!/(^|\n)>/.test(t)){n+=t;t=""}}a.startTag=t;a.before=n;if(a.after){a.after=a.after.replace(/^\n?/,"\n")}a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(e){a.endTag=e;return""});var c=function(e){var n=e?"> ":"";if(a.startTag){a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})}if(a.endTag){a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})}};if(/^(?![ ]{0,3}>)/m.test(a.selection)){this.wrap(a,h.lineLength-2);a.selection=a.selection.replace(/^/gm,"> ");c(true);a.skipLines()}else{a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,"");this.unwrap(a);c(false);if(!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag){a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n")}if(!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag){a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n")}}a.selection=this.hooks.postBlockquoteCreation(a.selection);if(!/\n/.test(a.selection)){a.selection=a.selection.replace(/^(> *)/,function(e,t){a.startTag+=t;return""})}};e.doCode=function(t,e){var n=/\S[ ]*$/.test(t.before);var r=/^[ ]*\S/.test(t.after);if(!r&&!n||/\n/.test(t.selection)){t.before=t.before.replace(/[ ]{4}$/,function(e){t.selection=e+t.selection;return""});var a=1;var i=1;if(/(\n|^)(\t|[ ]{4,}).*\n$/.test(t.before)){a=0}if(/^\n(\t|[ ]{4,})/.test(t.after)){i=0}t.skipLines(a,i);if(!t.selection){t.startTag="    ";t.selection=this.getString("codeexample")}else{if(/^[ ]{0,3}\S/m.test(t.selection)){if(/\n/.test(t.selection))t.selection=t.selection.replace(/^/gm,"    ");else t.before+="    "}else{t.selection=t.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,"")}}}else{t.trimWhitespace();t.findTags(/`/,/`/);if(!t.startTag&&!t.endTag){t.startTag=t.endTag="`";if(!t.selection){t.selection=this.getString("codeexample")}}else if(t.endTag&&!t.startTag){t.before+=t.endTag;t.endTag=""}else{t.startTag=t.endTag=""}}};e.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/;var a=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var i="-";var u=1;var o=function(){var e;if(n){e=" "+u+". ";u++}else{e=" "+i+" "}return e};var s=function(e){if(n===undefined){n=/^\s*\d/.test(e)}e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(e){return o()});return e};e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);if(e.before&&!/\n$/.test(e.before)&&!/^\n/.test(e.startTag)){e.before+=e.startTag;e.startTag=""}if(e.startTag){var c=/\d+[.]/.test(e.startTag);e.startTag="";e.selection=e.selection.replace(/\n[ ]{4}/g,"\n");this.unwrap(e);e.skipLines();if(c){e.after=e.after.replace(a,s)}if(n==c){return}}var l=1;e.before=e.before.replace(r,function(e){if(/^\s*([*+-])/.test(e)){i=g.$1}l=/[^\n]\n\n[^\n]/.test(e)?1:0;return s(e)});if(!e.selection){e.selection=this.getString("litem")}var f=o();var d=1;e.after=e.after.replace(a,function(e){d=/[^\n]\n\n[^\n]/.test(e)?1:0;return s(e)});e.trimWhitespace(true);e.skipLines(l,d,true);e.startTag=f;var p=f.replace(/./g," ");this.wrap(e,h.lineLength-p.length);e.selection=e.selection.replace(/\n/g,"\n"+p)};e.doHeading=function(e,t){e.selection=e.selection.replace(/\s+/g," ");e.selection=e.selection.replace(/(^\s+|\s+$)/g,"");if(!e.selection){e.startTag="## ";e.selection=this.getString("headingexample");e.endTag=" ##";return}var n=0;e.findTags(/#+[ ]*/,/[ ]*#+/);if(/#+/.test(e.startTag)){n=g.lastMatch.length}e.startTag=e.endTag="";e.findTags(null,/\s?(-+|=+)/);if(/=+/.test(e.endTag)){n=1}if(/-+/.test(e.endTag)){n=2}e.startTag=e.endTag="";e.skipLines(1,1);var r=n==0?2:n-1;if(r>0){var a=r>=2?"-":"=";var i=e.selection.length;if(i>h.lineLength){i=h.lineLength}e.endTag="\n";while(i--){e.endTag+=a}}};e.doHorizontalRule=function(e,t){e.startTag="----------\n";e.selection="";e.skipLines(2,1,true)}})();(function(){var n=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");if(!Array.indexOf){Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){return t}}return-1}}function x(e){return e.replace(/^\s+|\s+$/g,"")}function a(e){return e.replace(/\s+$/g,"")}function i(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function o(e,t){return e.indexOf(t)!=-1}function r(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function p(e,t){var n={};for(var r=0;r<e.length;r++)n[e[r]]=e[r];for(r=0;r<t.length;r++)n[t[r]]=t[r];var a=[];for(var i in n){if(n.hasOwnProperty(i))a.push(n[i])}return a}function u(e){if(e.charAt(0)!="")e=""+e;if(e.charAt(e.length-1)!="")e=e+"";return e}function s(e){if(e.charAt(0)=="")e=e.substr(1);if(e.charAt(e.length-1)=="")e=e.substr(0,e.length-1);return e}function y(e,t){return r(c(e,t),n)}function c(e,t){var n=t.blockGamutHookCallback(e);n=d(n);n=n.replace(/~D/g,"$$").replace(/~T/g,"~");n=t.previousPostConversion(n);return n}function l(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function f(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function d(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e}function g(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}Markdown.Extra=function(){this.converter=null;this.hashBlocks=[];this.footnotes={};this.usedFootnotes=[];this.attributeBlocks=false;this.googleCodePrettify=false;this.highlightJs=false;this.tableClass="";this.tabWidth=4};Markdown.Extra.init=function(e,t){var n=new Markdown.Extra;var r=[];var a=[];var i=[];var u=["unHashExtraBlocks"];t=t||{};t.extensions=t.extensions||["all"];if(o(t.extensions,"all")){t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]}a.push("wrapHeaders");if(o(t.extensions,"attr_list")){r.push("hashFcbAttributeBlocks");a.push("hashHeaderAttributeBlocks");u.push("applyAttributeBlocks");n.attributeBlocks=true}if(o(t.extensions,"fenced_code_gfm")){a.push("fencedCodeBlocks");r.push("fencedCodeBlocks")}if(o(t.extensions,"tables")){a.push("tables")}if(o(t.extensions,"def_list")){a.push("definitionLists")}if(o(t.extensions,"footnotes")){r.push("stripFootnoteDefinitions");a.push("doFootnotes");u.push("printFootnotes")}if(o(t.extensions,"smartypants")){u.push("runSmartyPants")}if(o(t.extensions,"strikethrough")){i.push("strikethrough")}if(o(t.extensions,"newlines")){i.push("newlines")}e.hooks.chain("postNormalization",function(e){return n.doTransform(r,e)+"\n"});e.hooks.chain("preBlockGamut",function(e,t){n.blockGamutHookCallback=t;e=l(e);e=n.doTransform(a,e)+"\n";e=f(e);return e});e.hooks.chain("postSpanGamut",function(e){return n.doTransform(i,e)});n.previousPostConversion=e.hooks.postConversion;e.hooks.chain("postConversion",function(e){e=n.doTransform(u,e);n.hashBlocks=[];n.footnotes={};n.usedFootnotes=[];return e});if("highlighter"in t){n.googleCodePrettify=t.highlighter==="prettify";n.highlightJs=t.highlighter==="highlight"}if("table_class"in t){n.tableClass=t.table_class}n.converter=e;return n};Markdown.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t};Markdown.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"};Markdown.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"};Markdown.Extra.prototype.unHashExtraBlocks=function(e){var a=this;function t(){var r=false;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,t){r=true;var n=parseInt(t,10);return a.hashBlocks[n]});if(r===true){t()}}t();return e};Markdown.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t);e=e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t);e=e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t);return e};var e="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}";var h=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+e+"[ \\t]*(?:\\n|0x03)","gm");var v=new RegExp("^(.*)[ \\t]+"+e+"[ \\t]*\\n"+"(?=[\\-|=]+\\s*(?:\\n|0x03))","gm");var m=new RegExp("^(```[^`\\n]*)[ \\t]+"+e+"[ \\t]*\\n"+"(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(e){var r=this;function t(e,t,n){return"<p>~XX"+(r.hashBlocks.push(n)-1)+"XX</p>\n"+t+"\n"}e=e.replace(h,t);e=e.replace(v,t);return e};Markdown.Extra.prototype.hashFcbAttributeBlocks=function(e){var r=this;function t(e,t,n){return"<p>~XX"+(r.hashBlocks.push(n)-1)+"XX</p>\n"+t+"\n"}return e.replace(m,t)};Markdown.Extra.prototype.applyAttributeBlocks=function(e){var d=this;var t=new RegExp("<p>~XX(\\d+)XX</p>[\\s]*"+'(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");e=e.replace(t,function(e,t,n,r,a){if(!n)return"";var i=parseInt(t,10);var u=d.hashBlocks[i];var o=u.match(/#[^\s#.]+/g)||[];var s=o[0]?' id="'+o[0].substr(1,o[0].length-1)+'"':"";var c=u.match(/\.[^\s#.]+/g)||[];for(var l=0;l<c.length;l++)c[l]=c[l].substr(1,c[l].length-1);var f="";if(r)c=p(c,[r]);if(c.length>0)f=' class="'+c.join(" ")+'"';return"<"+n+s+f+a});return e};Markdown.Extra.prototype.tables=function(e){var k=this;var t=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");var n=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");e=e.replace(t,r);e=e.replace(n,r);function r(e,t,n,r,a,i){t=t.replace(/^ *[|]/m,"");n=n.replace(/^ *[|]/m,"");r=r.replace(/^ *[|]/gm,"");t=t.replace(/[|] *$/m,"");n=n.replace(/[|] *$/m,"");r=r.replace(/[|] *$/gm,"");var u=n.split(/ *[|] */);var o=[];for(var s=0;s<u.length;s++){var c=u[s];if(c.match(/^ *-+: *$/m))o[s]=' align="right"';else if(c.match(/^ *:-+: *$/m))o[s]=' align="center"';else if(c.match(/^ *:-+ *$/m))o[s]=' align="left"';else o[s]=""}var l=t.split(/ *[|] */);var f=l.length;var d=k.tableClass?' class="'+k.tableClass+'"':"";var p=["<table",d,">\n","<thead>\n","<tr>\n"].join("");for(s=0;s<f;s++){var g=y(x(l[s]),k);p+=["  <th",o[s],">",g,"</th>\n"].join("")}p+="</tr>\n</thead>\n";var h=r.split("\n");for(s=0;s<h.length;s++){if(h[s].match(/^\s*$/))continue;var v=h[s].split(/ *[|] */);var m=f-v.length;for(var b=0;b<m;b++)v.push("");p+="<tr>\n";for(b=0;b<f;b++){var w=y(x(v[b]),k);p+=["  <td",o[b],">",w,"</td>\n"].join("")}p+="</tr>\n"}p+="</table>\n";return k.hashExtraBlock(p)}return e};Markdown.Extra.prototype.stripFootnoteDefinitions=function(e){var r=this;e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,t,n){t=g(t);n+="\n";n=n.replace(/^[ ]{0,3}/g,"");r.footnotes[t]=n;return"\n"});return e};Markdown.Extra.prototype.doFootnotes=function(e){var i=this;if(i.isConvertingFootnote===true){return e}var u=0;e=e.replace(/\[\^(.+?)\]/g,function(e,t){var n=g(t);var r=i.footnotes[n];if(r===undefined){return e}u++;i.usedFootnotes.push(n);var a='<a href="#fn:'+n+'" id="fnref:'+n+'" title="See footnote" class="footnote">'+u+"</a>";return i.hashExtraInline(a)});return e};Markdown.Extra.prototype.printFootnotes=function(e){var t=this;if(t.usedFootnotes.length===0){return e}e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var r=t.usedFootnotes[n];var a=t.footnotes[r];t.isConvertingFootnote=true;var i=y(a,t);delete t.isConvertingFootnote;e+='<li id="fn:'+r+'">'+i+' <a href="#fnref:'+r+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}e+="</ol>\n</div>";return e};Markdown.Extra.prototype.fencedCodeBlocks=function(e){function s(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/~D/g,"$$");e=e.replace(/~T/g,"~");return e}var c=this;e=e.replace(/(?:^|\n)```([^`\n]*)\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(e,t,n){var r=x(t),a=n;var i=c.googleCodePrettify?' class="prettyprint"':"";var u="";if(r){if(c.googleCodePrettify||c.highlightJs){u=' class="language-'+r+'"'}else{u=' class="'+r+'"'}}var o=["<pre",i,"><code",u,">",s(a),"</code></pre>"].join("");return c.hashExtraBlock(o)});return e};Markdown.Extra.prototype.educatePants=function(s){var c=this;var l="";var f=0;s.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(e,t,n,r,a,i,u){var o=s.substring(f,u);l+=c.applyPants(o);c.smartyPantsLastChar=l.substring(l.length-1);f=u+e.length;if(!t){l+=e;return}if(!/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(n)){a=c.educatePants(a)}else{c.smartyPantsLastChar=a.substring(a.length-1)}l+=t+n+r+a+i});var e=s.substring(f);l+=c.applyPants(e);c.smartyPantsLastChar=l.substring(l.length-1);return l};function t(e,t){var n=t;n=n.replace(/&\#8220;/g,'"');n=n.replace(/&\#8221;/g,'"');n=n.replace(/&\#8216;/g,"'");n=n.replace(/&\#8217;/g,"'");n=n.replace(/&\#8212;/g,"---");n=n.replace(/&\#8211;/g,"--");n=n.replace(/&\#8230;/g,"...");return n}Markdown.Extra.prototype.applyPants=function(e){e=e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;");e=e.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;");e=e.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;");if(/^'$/.test(e)){if(/\S/.test(this.smartyPantsLastChar)){return"&#8217;"}return"&#8216;"}if(/^"$/.test(e)){if(/\S/.test(this.smartyPantsLastChar)){return"&#8221;"}return"&#8220;"}e=e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;");e=e.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;");e=e.replace(/"'(?=\w)/g,"&#8220;&#8216;");e=e.replace(/'"(?=\w)/g,"&#8216;&#8220;");e=e.replace(/'(?=\d{2}s)/g,"&#8217;");e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;");e=e.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;");e=e.replace(/'(?=\s|s\b)/g,"&#8217;");e=e.replace(/'/g,"&#8216;");e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;");e=e.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;");e=e.replace(/"(?=\s)/g,"&#8221;");e=e.replace(/"/gi,"&#8220;");return e};Markdown.Extra.prototype.runSmartyPants=function(e){this.smartyPantsLastChar="";e=this.educatePants(e);e=e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,t);return e};Markdown.Extra.prototype.definitionLists=function(e){var t=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm");var a=this;e=u(e);e=e.replace(t,function(e,t,n){var r=x(a.processDefListItems(n));r="<dl>\n"+r+"\n</dl>";return t+a.hashExtraBlock(r)+"\n\n"});return s(e)};Markdown.Extra.prototype.processDefListItems=function(e){var o=this;var t=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm");var n=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");e=u(e);e=e.replace(/\n{2,}(?=\\x03)/,"\n");e=e.replace(t,function(e,t,n){var r=x(n).split("\n");var a="";for(var i=0;i<r.length;i++){var u=r[i];u=y(x(u),o);a+="\n<dt>"+u+"</dt>"}return a+"\n"});e=e.replace(n,function(e,t,n,r){if(t||r.match(/\n{2,}/)){r=Array(n.length+1).join(" ")+r;r=i(r)+"\n\n";r="\n"+c(r,o)+"\n"}else{r=a(r);r=y(i(r),o)}return"\n<dd>"+r+"</dd>\n"});return s(e)};Markdown.Extra.prototype.strikethrough=function(e){return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")};Markdown.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}})();